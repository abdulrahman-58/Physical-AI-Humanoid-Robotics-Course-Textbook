<svg width="800" height="400" xmlns="http://www.w3.org/2000/svg">
  <title>ROS 2 Nodes and Topics Diagram</title>
  <desc>Diagram showing the relationship between nodes and topics in ROS 2</desc>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="20" text-anchor="middle" fill="#2c3e50">ROS 2 Nodes and Topics</text>

  <!-- Publisher Node -->
  <rect x="100" y="100" width="160" height="100" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
  <text x="180" y="130" font-family="Arial" font-size="14" text-anchor="middle" fill="#1976d2">Publisher</text>
  <text x="180" y="150" font-family="Arial" font-size="12" text-anchor="middle" fill="#1976d2">Node</text>

  <!-- Subscriber Node -->
  <rect x="540" y="100" width="160" height="100" fill="#e8f5e8" stroke="#388e3c" stroke-width="2" rx="10"/>
  <text x="620" y="130" font-family="Arial" font-size="14" text-anchor="middle" fill="#388e3c">Subscriber</text>
  <text x="620" y="150" font-family="Arial" font-size="12" text-anchor="middle" fill="#388e3c">Node</text>

  <!-- Topic -->
  <rect x="320" y="120" width="160" height="60" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
  <text x="400" y="145" font-family="Arial" font-size="12" text-anchor="middle" fill="#e65100">Topic:</text>
  <text x="400" y="160" font-family="Arial" font-size="12" text-anchor="middle" fill="#e65100">/topic</text>

  <!-- Arrow from Publisher to Topic -->
  <line x1="260" y1="150" x2="320" y2="150" stroke="#2196f3" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="290" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#2196f3">Publishes</text>

  <!-- Arrow from Topic to Subscriber -->
  <line x1="480" y1="150" x2="540" y2="150" stroke="#4caf50" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="510" y="140" font-family="Arial" font-size="10" text-anchor="middle" fill="#4caf50">Subscribes</text>

  <!-- Message flow -->
  <text x="300" y="170" font-family="Arial" font-size="10" text-anchor="middle" fill="#555">"Hello World: X"</text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2196f3"/>
    </marker>
  </defs>

  <!-- Complex Example Title -->
  <text x="400" y="240" font-family="Arial" font-size="16" text-anchor="middle" fill="#2c3e50">Humanoid Robot Example</text>

  <!-- Joint Sensors Node -->
  <rect x="50" y="270" width="120" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" rx="5"/>
  <text x="110" y="290" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Joint</text>
  <text x="110" y="300" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Sensors</text>

  <!-- Perception Node -->
  <rect x="200" y="270" width="120" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" rx="5"/>
  <text x="260" y="290" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Perception</text>

  <!-- Motion Controller Node -->
  <rect x="350" y="270" width="120" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" rx="5"/>
  <text x="410" y="290" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Motion</text>
  <text x="410" y="300" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Controller</text>

  <!-- Robot State Node -->
  <rect x="500" y="270" width="120" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" rx="5"/>
  <text x="560" y="290" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">Robot</text>
  <text x="560" y="300" font-family="Arial" font-size="10" text-anchor="middle" fill="#1976d2">State</text>

  <!-- Arrows for complex example -->
  <line x1="170" y1="300" x2="200" y2="300" stroke="#2196f3" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="185" y="290" font-family="Arial" font-size="8" text-anchor="middle" fill="#2196f3">/joint_states</text>

  <line x1="320" y1="300" x2="350" y2="300" stroke="#2196f3" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="335" y="290" font-family="Arial" font-size="8" text-anchor="middle" fill="#2196f3">/image_raw</text>

  <line x1="470" y1="300" x2="500" y2="300" stroke="#2196f3" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="485" y="290" font-family="Arial" font-size="8" text-anchor="middle" fill="#2196f3">/robot_state</text>

  <!-- Return arrows -->
  <line x1="500" y1="330" x2="470" y2="330" stroke="#4caf50" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="485" y="345" font-family="Arial" font-size="8" text-anchor="middle" fill="#4caf50">/joint_states</text>

  <line x1="350" y1="330" x2="320" y2="330" stroke="#4caf50" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="335" y="345" font-family="Arial" font-size="8" text-anchor="middle" fill="#4caf50">/joint_states</text>

  <line x1="200" y1="330" x2="170" y2="330" stroke="#4caf50" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="185" y="345" font-family="Arial" font-size="8" text-anchor="middle" fill="#4caf50">/joint_commands</text>
</svg>